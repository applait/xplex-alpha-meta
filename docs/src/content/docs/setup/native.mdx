---
title: Build and Deploy Manually
description: A comprehensive guide on how to setup xplex on a native or virtual host.
---
import Xplex from '@components/Xplex.astro';
import { Tabs, TabItem } from '@astrojs/starlight/components';

This is **not the recommended way to deploy <Xplex />**, but if you're feeling adventurous&mdash;to build and deploy it manually (or, set up a development environment for <Xplex />), then here's how to do it.

## Install Dependencies

Depending on the package manager the host system uses, the package names & the commands to install them will vary; please use the appropriate section below:

<Tabs>
  <TabItem label="APT">
    If you're on a Debian-based system, using [APT](https://en.wikipedia.org/wiki/APT_(software)) as package manager (e.g. Ubuntu, OpenMediaVault, Linux Mint etc.) then run:

    ```bash
    # update installed packages
    sudo apt update
    sudo apt upgrade
    # install build dependencies
    sudo apt install -y build-essential git nodejs npm
    ```
  </TabItem>
  <TabItem label="DNF">
    If you're on a Fedora-based system, using [DNF](https://en.wikipedia.org/wiki/DNF_(software)) as package manager (e.g. RHEL, CentOS, Alma, Rocky, Amazon Linux etc.) then run:

    ```bash
    # update installed packages
    sudo dnf update
    # install build dependencies
    sudo dnf install -y gcc gcc-c++ git make nodejs nodejs-npm perl wget
    ```
  </TabItem>
  <TabItem label="Others">
    If you've chosen to use a system that uses some different & obscure package manager, then you already know what you're doing and don't need hand holding to prepare for the build.

    Just make sure to update installed packages and then install the build dependencies.

    Here's a generic (and likely non-exhaustive) list of dependencies you may need:
    - gcc & g++
    - git & wget
    - make & autoconf
    - perl & perl-modules
    - nodejs & nodejs-npm

    Good luck!
  </TabItem>
</Tabs>

:::caution[Just in Case]
If you end up installing additional packages for a successful build, please [let us know](https://github.com/debloper/xplex/issues/new).
:::

## Download Code

<Tabs>
  <TabItem label="Git">
    If you have [Git](https://git-scm.com/) installed, you can clone the repository:

    ```bash
    git clone https://github.com/debloper/xplex.git
    cd xplex
    ```
  </TabItem>
  <TabItem label="Zip">
    If you don't have Git installed, you can download the code as a ZIP archive:

    ```bash
    # avoid using latest development code, as it may be unstable
    # make sure to download archive of the latest tagged version
    # from https://github.com/debloper/xplex/tags - for exmaple:
    wget https://github.com/debloper/xplex/archive/refs/tags/v1.0.0.zip
    unzip v1.0.0.zip
    cd xplex-1.0.0
    ```
  </TabItem>
  <TabItem label="Tar">
    If you don't have Git installed, and instead of ZIP, you prefer TAR archives:

    ```bash
    # avoid using latest development code, as it may be unstable
    # make sure to download archive of the latest tagged version
    # from https://github.com/debloper/xplex/tags - for exmaple:
    wget https://github.com/debloper/xplex/archive/refs/tags/v1.0.0.tar.gz
    tar -xzf v1.0.0.tar.gz
    cd xplex-1.0.0
    ```
  </TabItem>
</Tabs>

## Run Setup Script

Inside the project directory, you'll find a `setup.sh` script that will automate all the distro-agnostic tasks to get <Xplex /> up and running, like:

- building & installing `nginx` with `rtmp`
- updating `nginx` configuration
- installing <Xplex isHQ /> frontend
- start processes/services.

```bash
# it's generally a good idea to read the script
# to understand what it does, before running it
cat setup.sh
# if you're comfortable with the script, run it
sudo ./setup.sh
# or, you can even run each command separately.
```

:::note
Depending on the available compute resources, the build may take a few minutes to complete. On a VM with 4 modern CPU cores and 4GB RAM, it takes about 2-3 minutes.
:::

## Manage Firewall Rules

<Xplex /> listens on port `80` (HTTP) & port `1935` (RTMP). Please make sure the firewall on the host system allows traffic on these ports. Depending on the frontend that the system uses to manage firewall, follow the appropriate section below:

<Tabs>
  <TabItem label="ufw">
    `ufw` is typically used as frontend for `iptables` on Debian-based distros.

    ```bash
    # check firewall status
    sudo ufw status
    # allow HTTP traffic
    sudo ufw allow http
    # allow RTMP traffic
    sudo ufw allow 1935
    ```

    Please follow Ubuntu's [official documentation](https://ubuntu.com/server/docs/firewalls) or, [community guide](https://help.ubuntu.com/community/UFW) for more advanced help with managing firewall rules.
  </TabItem>
  <TabItem label="firewalld">
    `firewalld` is typically used as frontend for `iptables` on Fedora-based distros.

    ```bash
    # check firewall configuration
    sudo firewall-cmd --list-all
    # allow HTTP traffic
    sudo firewall-cmd --add-service=http --permanent
    # allow RTMP traffic
    sudo firewall-cmd --add-port=1935/tcp --permanent
    # reload firewall rules
    sudo firewall-cmd --reload
    ```

    You can follow Fedora's [official documentation](https://docs.fedoraproject.org/en-US/quick-docs/firewalld/) for more advanced help with managing firewall rules.
  </TabItem>
  <TabItem label="iptables">
    If you're on a system that uses some other frontend for `iptables`, then please consult its official documentation.
    
    Or you can directly manage `iptables` rules to allow HTTP & RTMP traffic:

    ```bash
    # allow HTTP traffic
    sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
    # allow RTMP traffic
    sudo iptables -A INPUT -p tcp --dport 1935 -j ACCEPT
    # save updated rules
    sudo iptables-save
    ```
  </TabItem>
</Tabs>

---

ðŸŽ‰ Congrats... You should now have <Xplex /> up and running on your host system!

